{% extends "base.html" %}

{% block title %}Home Page{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Learn <span class="highlight">To Code</span></h1>
                <p>
                    We focus on teaching programming in an intuitive and easy to follow way. 
                    All you need is dedication!
                </p>
                <a href="https://www.youtube.com/channel/UCEsvQ6d7qsnOSNXtccIzScQ?sub_confirmation=1" 
                   target="_blank" 
                   class="neon-btn">
                    <i class="bi bi-youtube"></i>
                    Subscribe
                </a>
            </div>
            <div class="hero-image">
                <img src="{{ url_for('static', filename='images/hero-image.png') }}" alt="Hero Image">
            </div>
        </div>
    </div>
</section>

<!-- Community Section -->
<section class="community-section">
    <div class="container">
        <div class="community-content">
            <h3>Contact Me</h3>
            <div class="social-links">
                <a href="https://github.com/omar-ghoneim" target="_blank" class="social-btn">
                    <i class="bi bi-github"></i>
                    GitHub
                </a>
                <a href="https://www.linkedin.com/in/alaa-wael-1016/" target="_blank" class="social-btn">
                    <i class="bi bi-linkedin"></i>
                    LinkedIn
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Featured Courses Section -->
<section class="courses-section" id="learn">
    <div class="container">
        <h2 class="section-title"><a href="{{url_for('courses.courses')}}" style="border: none;text-decoration: none;text-shadow: 0 0 20px var(--neon-blue-glow);text-transform: uppercase;letter-spacing: 3px;color: #fff">Featured Courses</a></h2>
        <p class="section-subtitle">Master the skills that matter in modern development</p>
        
        <div class="courses-grid">
            {% for course in courses.items %}
            <div class="course-card">
                <a href="{{url_for('courses.course', course_title=course.name)}}" class="text-decoration-none">
                    <div class="course-image">
                        <img src="{{ url_for('static', filename='Courses/'+course.icon) }}" alt="{{ course.name }} Icon">
                    </div>
                    <div class="course-body">
                        <h3 class="course-title">{{ course.name }}</h3>
                        <p class="course-description">
                            {{ course.description }}
                        </p>
                        <p class="course-meta">Last updated 3 mins ago</p>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
        <!-- Pagination -->
            {% if courses.pages > 1 %}
            <div class="pagination-wrapper">
                <nav class="pagination-nav">
                    <!-- Previous Button -->
                    {% if courses.has_prev %}
                    <a href="{{ url_for('main.home', page_courses=courses.prev_num, page_lessons=lessons.page) }}" class="pagination-btn prev-btn">
                        <i class="bi bi-chevron-left"></i>
                        <span>Previous</span>
                    </a>
                    {% else %}
                    <span class="pagination-btn prev-btn disabled">
                        <i class="bi bi-chevron-left"></i>
                        <span>Previous</span>
                    </span>
                    {% endif %}

                    <!-- Page Numbers -->
                    <div class="pagination-numbers">
                        {% for page_num in courses.iter_pages() %}
                            {% if page_num %}
                                {% if page_num == courses.page %}
                                <span class="page-number active">{{ page_num }}</span>
                                {% else %}
                                <a href="{{ url_for('main.home', page_courses=page_num, page_lessons=lessons.page) }}" class="page-number">{{ page_num }}</a>
                                {% endif %}
                            {% else %}
                                <span class="page-ellipsis">...</span>
                            {% endif %}
                        {% endfor %}
                    </div>

                    <!-- Next Button -->
                    {% if courses.has_next %}
                    <a href="{{ url_for('main.home', page_courses=courses.next_num, page_lessons=lessons.page) }}" class="pagination-btn next-btn">
                        <span>Next</span>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    {% else %}
                    <span class="pagination-btn next-btn disabled">
                        <span>Next</span>
                        <i class="bi bi-chevron-right"></i>
                    </span>
                    {% endif %}
                </nav>
            </div>
            {% endif %}
    </div>
</section>

<!-- Latest Lessons Section -->
<section class="lessons-section">
    <div class="container">
        <div class="row mb-5">
            <div class="col">
                <h3 class="text-uppercase text-center text-light">Latest Lessons</h3>
            </div>
        </div>
        
        <div class="lessons-grid">
            {% for lesson in lessons %}
            <div class="lesson-card-wrapper d-flex align-items-stretch">
                <div class="card lesson">
                    <img src="{{ url_for('static', filename='Lessons/'+lesson.thumbnail) }}" 
                         class="card-img" 
                         alt="{{ lesson.title }}">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">
                            <a href="{{ url_for('lessons.lesson', lesson_slug=lesson.slug, course=lesson.course.name) }}">
                                {{ lesson.title }}
                            </a>
                        </h5>
                        <p class="card-text mb-0">
                            In: <a href="{{url_for('courses.course', course_title=lesson.course.name)}}">{{ lesson.course.name }}</a>
                        </p>
                        <span>
                            <img class="article-img rounded-circle"
                                 src="{{ url_for('static', filename='profile_pics/'+lesson.author.img_file) }}" 
                                 alt="{{ lesson.author.username }}">
                            By: <a href="{{ url_for('users.author') }}" class="link">{{ lesson.author.username }}</a>
                        </span>
                        <span class="text-muted">
                            On: {{ lesson.date_posted.strftime('%Y-%m-%d') }}
                        </span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Pagination -->
            {% if lessons.pages > 1 %}
            <div class="pagination-wrapper">
                <nav class="pagination-nav">
                    <!-- Previous Button -->
                    {% if lessons.has_prev %}
                    <a href="{{ url_for('main.home', page_lessons=lessons.prev_num, page_courses=courses.page) }}" class="pagination-btn prev-btn">
                        <i class="bi bi-chevron-left"></i>
                        <span>Previous</span>
                    </a>
                    {% else %}
                    <span class="pagination-btn prev-btn disabled">
                        <i class="bi bi-chevron-left"></i>
                        <span>Previous</span>
                    </span>
                    {% endif %}

                    <!-- Page Numbers -->
                    <div class="pagination-numbers">
                        {% for page_num in lessons.iter_pages() %}
                            {% if page_num %}
                                {% if page_num == lessons.page %}
                                <span class="page-number active">{{ page_num }}</span>
                                {% else %}
                                <a href="{{ url_for('main.home', page_lessons=page_num, page_courses=courses.page) }}" class="page-number">{{ page_num }}</a>
                                {% endif %}
                            {% else %}
                                <span class="page-ellipsis">...</span>
                            {% endif %}
                        {% endfor %}
                    </div>

                    <!-- Next Button -->
                    {% if lessons.has_next %}
                    <a href="{{ url_for('main.home', page_lessons=lessons.next_num, page_courses=courses.page) }}" class="pagination-btn next-btn">
                        <span>Next</span>
                        <i class="bi bi-chevron-right"></i>
                    </a>
                    {% else %}
                    <span class="pagination-btn next-btn disabled">
                        <span>Next</span>
                        <i class="bi bi-chevron-right"></i>
                    </span>
                    {% endif %}
                </nav>
            </div>
            {% endif %}
    </div>
</section>

{% endblock %}